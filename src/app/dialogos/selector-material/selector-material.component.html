<div class="relative flex flex-col">
  <!-- Header con boton cerrar -->
  <div class="sticky top-0 z-10 flex items-center justify-between border-b border-zinc-200 bg-white px-4 py-3">
    <h2 class="text-lg font-semibold text-zinc-800">Material de formacion</h2>
    <button
      mat-icon-button
      [mat-dialog-close]="true"
      class="!-mr-2"
      aria-label="Cerrar dialogo"
    >
      <mat-icon class="material-symbols-outlined text-zinc-500">close</mat-icon>
    </button>
  </div>

  <!-- Contenido -->
  <div mat-dialog-content class="!max-h-[70vh] !overflow-y-auto !p-0">
    @for (seccion of material; track seccion.nombreSeccion) {
      <div class="px-4 py-3">
        <!-- Titulo de seccion -->
        <h3 class="mb-3 flex items-center gap-2 text-sm font-semibold text-primary">
          <mat-icon class="material-symbols-outlined !text-lg">folder</mat-icon>
          {{ seccion.nombreSeccion }}
        </h3>

        <!-- Lista de archivos -->
        <div class="space-y-2">
          @for (archivo of seccion.archivos; track archivo.nombre) {
            <a
              [href]="archivo.url"
              target="_blank"
              class="group flex items-center gap-3 rounded-lg border border-zinc-100 bg-zinc-50 p-3 transition-all hover:border-primary/30 hover:bg-primary/5"
            >
              <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10 text-primary transition-colors group-hover:bg-primary group-hover:text-white">
                <mat-icon class="material-symbols-outlined">{{ archivo.icono }}</mat-icon>
              </div>
              <div class="min-w-0 flex-1">
                <p class="truncate text-sm font-medium text-zinc-700 group-hover:text-primary">
                  {{ archivo.nombre }}
                </p>
                <p class="text-xs text-zinc-400">
                  [{{ archivo.codigo }}]
                </p>
              </div>
              <mat-icon class="material-symbols-outlined shrink-0 text-zinc-300 transition-colors group-hover:text-primary">
                download
              </mat-icon>
            </a>
          }
        </div>
      </div>

      @if (!$last) {
        <div class="mx-4">
          <mat-divider></mat-divider>
        </div>
      }
    }
  </div>
</div>
