@reference "tailwindcss";

/* ============================================
   MI CL√çNICA - KENGO APP REDESIGN
   Mobile-first, glassmorphism, aurora effects
   ============================================ */

/* === Variables === */
:host {
  --kengo-primary: #e75c3e;
  --kengo-primary-dark: #c94a2f;
  --kengo-tertiary: #efc048;
  --kengo-surface: rgba(255, 255, 255, 0.55);
  --kengo-glass: rgba(255, 255, 255, 0.5);
  --kengo-border: rgba(255, 255, 255, 0.25);
  --kengo-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
  --kengo-shadow-primary: 0 4px 16px rgba(231, 92, 62, 0.3);
  --transition-smooth: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
}

/* === Page Container === */
.clinic-page {
  @apply relative flex flex-col w-full h-full overflow-y-auto overflow-x-hidden;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* === Aurora Background === */
.aurora-bg {
  @apply fixed inset-0 pointer-events-none overflow-hidden;
  z-index: 0;
}

.aurora-wave {
  @apply absolute rounded-full;
  filter: blur(60px);
  opacity: 0.5;
  mix-blend-mode: multiply;
}

.aurora-wave-1 {
  @apply w-[300px] h-[300px] -top-20 -right-20;
  background: radial-gradient(circle, rgba(231, 92, 62, 0.4) 0%, transparent 70%);
  animation: auroraFloat1 12s ease-in-out infinite;
}

.aurora-wave-2 {
  @apply w-[250px] h-[250px] top-1/3 -left-20;
  background: radial-gradient(circle, rgba(239, 192, 72, 0.35) 0%, transparent 70%);
  animation: auroraFloat2 15s ease-in-out infinite;
}

.aurora-wave-3 {
  @apply w-[200px] h-[200px] bottom-20 right-10;
  background: radial-gradient(circle, rgba(255, 180, 164, 0.3) 0%, transparent 70%);
  animation: auroraFloat3 10s ease-in-out infinite;
}

@keyframes auroraFloat1 {
  0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.5; }
  50% { transform: translate(-30px, 40px) scale(1.15); opacity: 0.7; }
}

@keyframes auroraFloat2 {
  0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.4; }
  50% { transform: translate(40px, -20px) scale(1.1); opacity: 0.6; }
}

@keyframes auroraFloat3 {
  0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.35; }
  50% { transform: translate(-20px, -30px) scale(1.2); opacity: 0.55; }
}

/* === Header === */
.clinic-header {
  @apply sticky top-0 z-50 w-full;
  padding: env(safe-area-inset-top, 12px) 16px 12px;
  background: linear-gradient(180deg, rgba(254, 248, 247, 0.95) 0%, rgba(254, 248, 247, 0.8) 100%);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

.header-content {
  @apply flex items-center justify-between max-w-2xl mx-auto;
}

.header-left {
  @apply flex items-center gap-3;
}

.back-btn {
  @apply inline-flex items-center justify-center w-10 h-10 rounded-full
         bg-white/60 border border-white/40 text-zinc-600
         transition-all active:scale-95;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.back-btn:hover {
  @apply bg-white/80 text-[#e75c3e];
}

.header-title-group {
  @apply flex flex-col;
}

.header-title {
  @apply text-xl text-[#e75c3e] leading-tight;
}

.clinic-switcher {
  @apply inline-flex items-center gap-1 mt-0.5 px-0 py-0 bg-transparent border-none
         text-xs text-zinc-500 cursor-pointer transition-colors;
}

.clinic-switcher:hover {
  @apply text-[#e75c3e];
}

.current-clinic-name {
  @apply max-w-[120px] truncate;
}

.switcher-icon {
  @apply text-sm transition-transform;
}

.switcher-icon.rotated {
  transform: rotate(180deg);
}

.header-actions {
  @apply flex items-center gap-2;
}

.action-btn {
  @apply inline-flex items-center justify-center w-10 h-10 rounded-full
         bg-white/60 border border-white/40 text-zinc-500 cursor-pointer
         transition-all disabled:opacity-50 disabled:cursor-not-allowed;
}

.action-btn:not(:disabled):hover {
  @apply bg-[#e75c3e]/10 text-[#e75c3e] border-[#e75c3e]/30;
}

/* === Clinic Picker === */
.clinic-picker-overlay {
  @apply fixed inset-0 bg-black/20 z-40;
  animation: fadeIn 0.2s ease-out;
}

.clinic-picker {
  @apply absolute left-4 right-4 mt-2 p-2 rounded-2xl overflow-hidden z-50;
  background: var(--kengo-glass);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--kengo-border);
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
  animation: slideDown 0.25s ease-out;
}

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

.picker-option {
  @apply flex items-center gap-3 w-full p-3 rounded-xl bg-transparent border-none
         text-left cursor-pointer transition-all;
}

.picker-option:hover {
  @apply bg-white/50;
}

.picker-option.active {
  @apply bg-[#e75c3e]/10;
}

.picker-logo {
  @apply w-10 h-10 rounded-xl overflow-hidden flex items-center justify-center shrink-0;
  background: linear-gradient(135deg, #e75c3e 0%, #efc048 100%);
}

.picker-logo img {
  @apply w-full h-full object-cover;
}

.picker-logo .material-symbols-outlined {
  @apply text-xl text-white;
}

.picker-info {
  @apply flex-1 min-w-0;
}

.picker-name {
  @apply block text-sm font-semibold text-zinc-800 truncate;
}

.picker-location {
  @apply block text-xs text-zinc-500 truncate mt-0.5;
}

.picker-check {
  @apply text-xl text-[#e75c3e];
}

/* === Main Content === */
.clinic-main {
  @apply relative flex-1 px-4 pt-2 z-10;
  padding-bottom: calc(var(--safe-area-bottom) + 100px);
  max-width: 640px;
  margin: 0 auto;
  width: 100%;
}

@media (min-width: 1024px) {
  .clinic-main {
    padding-bottom: 32px;
  }
}

/* === State Cards === */
.state-card {
  @apply relative p-10 rounded-3xl text-center overflow-hidden;
  background: var(--kengo-glass);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid var(--kengo-border);
  box-shadow: var(--kengo-shadow);
}

.shimmer-effect {
  @apply absolute inset-0;
  background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.5) 50%, transparent 100%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.state-icon {
  @apply w-20 h-20 mx-auto rounded-2xl flex items-center justify-center;
  background: linear-gradient(135deg, #ffede8 0%, white 100%);
}

.state-icon .material-symbols-outlined {
  @apply text-5xl text-[#e75c3e]/50;
}

.state-icon.pulse {
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.05); opacity: 0.8; }
}

.state-icon.error {
  @apply bg-red-50;
}

.state-icon.error .material-symbols-outlined {
  @apply text-red-400;
}

.state-icon.empty .material-symbols-outlined {
  @apply text-zinc-300;
}

.state-title {
  @apply text-lg font-semibold text-zinc-700 mt-4 mb-1;
}

.state-text {
  @apply text-sm text-zinc-500 mt-3;
}

.state-text.error {
  @apply text-red-600;
}

.retry-btn {
  @apply inline-flex items-center gap-2 px-4 py-2.5 mt-4 rounded-xl
         bg-transparent border-[1.5px] border-red-300 text-red-600
         text-sm font-medium cursor-pointer transition-all;
}

.retry-btn:hover {
  @apply bg-red-50 border-red-400;
}

/* === Hero Card === */
.hero-card {
  @apply rounded-3xl overflow-hidden;
  background: var(--kengo-glass);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid var(--kengo-border);
  box-shadow: var(--kengo-shadow);
}

.hero-visual {
  @apply relative h-36 overflow-hidden;
}

.hero-image {
  @apply absolute inset-0 w-full h-full object-cover;
  transition: transform 0.5s ease;
}

.hero-card:hover .hero-image {
  transform: scale(1.05);
}

.hero-gradient {
  @apply absolute inset-0;
  background: linear-gradient(
    135deg,
    var(--clinic-color, #e75c3e) 0%,
    #f9b87e 50%,
    #efc048 100%
  );
}

.hero-overlay {
  @apply absolute inset-0;
  background: linear-gradient(
    180deg,
    transparent 0%,
    transparent 40%,
    rgba(0, 0, 0, 0.3) 70%,
    rgba(0, 0, 0, 0.6) 100%
  );
}

.hero-logo {
  @apply absolute top-3 left-3 w-14 h-14 rounded-2xl overflow-hidden
         flex items-center justify-center border-2 border-white/50;
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}

.hero-logo img {
  @apply w-full h-full object-cover p-1;
}

.hero-logo .material-symbols-outlined {
  @apply text-3xl text-[#e75c3e];
}

.status-badge {
  @apply absolute top-3 right-3 inline-flex items-center gap-1.5 px-3 py-1.5
         rounded-full text-xs font-semibold text-white;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.25);
}

.status-dot {
  @apply w-2 h-2 rounded-full bg-green-400;
  box-shadow: 0 0 8px rgba(74, 222, 128, 0.6);
  animation: statusPulse 2s ease-in-out infinite;
}

@keyframes statusPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

.hero-info {
  @apply p-4;
}

.clinic-name {
  @apply text-xl font-bold text-zinc-800 leading-tight m-0;
}

.clinic-address {
  @apply flex items-center gap-1 text-sm text-zinc-500 mt-1.5 m-0;
}

.clinic-address .material-symbols-outlined {
  @apply text-base text-zinc-400;
}

.postal-badge {
  @apply ml-2 px-2 py-0.5 rounded-md bg-zinc-100 text-xs font-medium text-zinc-600;
}

/* === Quick Actions === */
.quick-actions {
  @apply grid grid-cols-4 gap-2 mt-4;
}

.quick-action {
  @apply flex flex-col items-center gap-1.5 py-3 px-2 rounded-2xl
         bg-white/50 border border-white/40 no-underline
         cursor-pointer transition-all active:scale-95;
}

.quick-action:hover {
  @apply bg-white/70 -translate-y-0.5;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
}

.action-icon {
  @apply w-11 h-11 rounded-xl flex items-center justify-center;
  transition: var(--transition-smooth);
}

.quick-action.primary .action-icon {
  background: linear-gradient(135deg, #e75c3e 0%, #c94a2f 100%);
  box-shadow: 0 4px 12px rgba(231, 92, 62, 0.35);
}

.quick-action.primary .material-symbols-outlined {
  @apply text-white text-xl;
}

.quick-action.secondary .action-icon {
  background: linear-gradient(135deg, rgba(239, 192, 72, 0.2) 0%, rgba(239, 192, 72, 0.1) 100%);
}

.quick-action.secondary .material-symbols-outlined {
  @apply text-amber-700 text-xl;
}

.quick-action.tertiary .action-icon {
  background: linear-gradient(135deg, rgba(100, 116, 139, 0.15) 0%, rgba(100, 116, 139, 0.08) 100%);
}

.quick-action.tertiary .material-symbols-outlined {
  @apply text-slate-600 text-xl;
}

.quick-action.neutral .action-icon {
  @apply bg-zinc-100;
}

.quick-action.neutral .material-symbols-outlined {
  @apply text-zinc-500 text-xl;
}

.action-label {
  @apply text-xs font-medium text-zinc-600;
}

/* === Info Grid === */
.info-grid {
  @apply grid grid-cols-2 gap-3 mt-4;
}

.info-card {
  @apply p-3.5 rounded-2xl;
  background: var(--kengo-glass);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--kengo-border);
}

.info-card-header {
  @apply flex items-center gap-2 mb-3 pb-2 border-b border-black/5;
}

.info-icon {
  @apply text-lg text-[#e75c3e];
}

.info-card-title {
  @apply text-xs font-semibold text-zinc-500 uppercase tracking-wide;
}

.info-card-body {
  @apply flex flex-col gap-2;
}

.info-row {
  @apply flex flex-col gap-0.5;
}

.info-label {
  @apply text-[0.65rem] font-medium text-zinc-400 uppercase tracking-wider;
}

.info-value {
  @apply text-sm font-medium text-zinc-700;
}

.info-value.truncate {
  @apply truncate;
}

.info-value.mono {
  font-family: ui-monospace, monospace;
  letter-spacing: 0.05em;
}

/* === Team Section === */
.team-section {
  @apply mt-4 rounded-3xl overflow-hidden;
  background: var(--kengo-glass);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid var(--kengo-border);
}

.section-header {
  @apply flex items-center justify-between p-4 cursor-pointer transition-colors;
}

.section-header:hover {
  @apply bg-white/30;
}

.section-title-group {
  @apply flex items-center gap-3;
}

.section-icon {
  @apply w-10 h-10 rounded-xl flex items-center justify-center;
  background: linear-gradient(135deg, rgba(231, 92, 62, 0.12) 0%, rgba(239, 192, 72, 0.08) 100%);
}

.section-icon .material-symbols-outlined {
  @apply text-xl text-[#e75c3e];
}

.section-title {
  @apply text-base font-semibold text-zinc-800 m-0;
}

.section-subtitle {
  @apply text-xs text-zinc-500 mt-0.5 m-0;
}

.expand-icon {
  @apply text-xl text-zinc-400 transition-transform;
}

.expand-icon.rotated {
  transform: rotate(180deg);
}

/* Empty Team */
.empty-team {
  @apply flex flex-col items-center gap-2 p-8 text-center;
}

.empty-team .material-symbols-outlined {
  @apply text-4xl text-zinc-300;
}

.empty-team p {
  @apply text-sm text-zinc-500 m-0;
}

/* Team Preview (Collapsed) */
.team-preview {
  @apply flex items-center justify-between px-4 pb-4;
}

.avatar-stack {
  @apply flex items-center;
}

.stacked-avatar {
  @apply w-10 h-10 rounded-full overflow-hidden flex items-center justify-center
         border-[3px] border-white text-sm font-bold text-white;
  background: linear-gradient(135deg, #e75c3e 0%, #efc048 100%);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  margin-left: calc(var(--stack-index, 0) * -12px);
  z-index: calc(10 - var(--stack-index, 0));
  transition: transform 0.2s ease;
}

.stacked-avatar:first-child {
  margin-left: 0;
}

.stacked-avatar img {
  @apply w-full h-full object-cover;
}

.stacked-avatar.more {
  @apply bg-zinc-600 text-xs;
}

.avatar-initials {
  @apply text-sm font-bold;
}

.preview-hint {
  @apply text-xs text-zinc-400;
}

/* Team List (Expanded) */
.team-list {
  @apply flex flex-col;
}

.team-member {
  @apply flex items-center gap-3 p-4 border-t border-black/5 transition-colors;
  animation: memberSlide 0.3s ease-out forwards;
  animation-delay: var(--member-delay, 0s);
  opacity: 0;
}

@keyframes memberSlide {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.team-member:hover {
  @apply bg-white/30;
}

.member-avatar {
  @apply relative w-12 h-12 rounded-full overflow-hidden shrink-0
         flex items-center justify-center text-lg font-bold text-white;
  background: linear-gradient(135deg, #e75c3e 0%, #efc048 100%);
  box-shadow: 0 4px 12px rgba(231, 92, 62, 0.25);
}

.member-avatar img {
  @apply w-full h-full object-cover;
}

.online-indicator {
  @apply absolute bottom-0 right-0 w-3 h-3 rounded-full bg-green-400
         border-[2.5px] border-white;
  box-shadow: 0 0 6px rgba(74, 222, 128, 0.5);
}

.member-info {
  @apply flex-1 min-w-0;
}

.member-name {
  @apply text-sm font-semibold text-zinc-800 m-0 truncate;
}

.member-meta {
  @apply mt-1;
}

.role-badge {
  @apply inline-flex items-center px-2 py-0.5 rounded-md
         bg-[#e75c3e]/10 text-[0.65rem] font-semibold text-[#e75c3e];
}

.colegiado-badge {
  @apply inline-flex items-center gap-1 text-xs text-[#e75c3e];
}

.colegiado-badge .material-symbols-outlined {
  @apply text-sm text-[#efc048];
}

.member-actions {
  @apply flex items-center gap-1.5;
}

.member-action {
  @apply inline-flex items-center justify-center w-9 h-9 rounded-full
         bg-[#e75c3e]/10 text-[#e75c3e] no-underline transition-all;
}

.member-action:hover {
  @apply bg-[#e75c3e] text-white scale-110;
}

.member-action .material-symbols-outlined {
  @apply text-lg;
}

/* === Animations === */
.animate-in {
  animation: fadeInUp 0.4s ease-out forwards;
  animation-delay: var(--delay, 0s);
  opacity: 0;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* === Snackbar === */
.snackbar {
  @apply fixed left-1/2 -translate-x-1/2 px-5 py-3 rounded-xl
         bg-zinc-800 text-white text-sm font-medium z-[1000];
  bottom: calc(var(--safe-area-bottom) + 90px);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
  animation: snackbarIn 0.3s ease-out;
}

@keyframes snackbarIn {
  from {
    opacity: 0;
    transform: translate(-50%, 20px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
}

/* === Icon Filled === */
.icon-filled {
  font-variation-settings: "FILL" 1, "wght" 400, "GRAD" 0, "opsz" 24;
}

/* === Desktop Adjustments === */
@media (min-width: 1024px) {
  .clinic-header {
    @apply py-4 px-8;
  }

  .header-content {
    @apply max-w-4xl;
  }

  .header-title {
    @apply text-2xl;
  }

  .clinic-main {
    @apply px-8 pt-4;
    max-width: 800px;
  }

  .hero-visual {
    @apply h-48;
  }

  .quick-actions {
    @apply gap-3;
  }

  .quick-action {
    @apply py-4;
  }

  .info-grid {
    @apply gap-4;
  }

  .info-card {
    @apply p-4;
  }
}
